<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACNH Assistant</title>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #5ec4b6;    /* ã‚ã¤æ£®ã‚°ãƒªãƒ¼ãƒ³ */
            --accent: #ffab91;     /* ã‚³ãƒ¼ãƒ©ãƒ«ã‚ªãƒ¬ãƒ³ã‚¸ */
            --bg: #f8f9fa;         /* è–„ã„ã‚°ãƒ¬ãƒ¼ï¼ˆGoogleé¢¨ï¼‰ */
            --card: #ffffff;       /* ç™½ */
            --text: #5a5a5a;       /* æ–‡å­—è‰² */
            --border: #edf2f7;     /* ç·šã®è‰² */
        }

        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding-bottom: 90px; /* ãƒŠãƒ“ãŒè¢«ã‚‰ãªã„ãŸã‚ã®ä½™ç™½ */
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 500px;
            padding: 20px;
        }

        /* ãƒšãƒ¼ã‚¸ã®åˆ‡ã‚Šæ›¿ãˆç®¡ç† */
        .page { display: none; }
        .page.active { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        header h1 {
            font-size: 1.4rem;
            color: var(--primary);
            text-align: center;
            margin-bottom: 20px;
        }

        /* ã‚«ãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .card {
            background: var(--card);
            border-radius: 24px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);
        }

        /* ã‚¹ãƒˆãƒƒãƒ—ã‚¦ã‚©ãƒƒãƒå°‚ç”¨ */
        .timer-card { text-align: center; }
        #timer {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 15px;
            letter-spacing: 2px;
        }

        /* ãƒªã‚¹ãƒˆã®å„é …ç›® */
        .list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 10px;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: 0.2s;
            border-radius: 12px;
        }
        .list-item:last-child { border-bottom: none; }
        .list-item:active { background-color: #f0f0f0; transform: scale(0.98); }

        /* ã‚«ã‚¦ãƒ³ãƒˆè¡¨ç¤º */
        .count-num {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary);
        }
        .count-finished {
            color: #ccc !important;
            text-decoration: line-through;
        }

        /* ãƒœã‚¿ãƒ³ */
        .btn-group { display: flex; gap: 10px; justify-content: center; }
        .btn {
            border: none; border-radius: 30px; padding: 10px 25px;
            font-weight: bold; cursor: pointer; font-family: inherit;
        }
        .btn-primary { background: var(--primary); color: white; }
        .btn-secondary { background: var(--accent); color: white; }

        /* ä¸‹éƒ¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
        .bottom-nav {
            position: fixed; bottom: 0; width: 100%; max-width: 500px; height: 75px;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(10px);
            display: flex; justify-content: space-around; align-items: center;
            border-top: 1px solid var(--border);
            z-index: 100;
        }
        .nav-item { color: #a0aec0; font-size: 0.8rem; text-align: center; cursor: pointer; }
        .nav-item.active { color: var(--primary); font-weight: bold; }
        .nav-icon { font-size: 1.5rem; display: block; }

        /* å­é …ç›®ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å°‘ã—å°ã•ãã€è–„ãã™ã‚‹ */
        .child-items .list-item span {
            font-size: 0.9rem;
            color: #888;
        }

        /* --- ã‚¿ãƒ–ã®ãƒ‡ã‚¶ã‚¤ãƒ³ --- */
.tabs-container {
    display: flex;
    overflow-x: auto; /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ã« */
    white-space: nowrap;
    padding: 10px 0;
    margin-bottom: 15px;
    gap: 8px;
    scrollbar-width: none; /* Firefoxç”¨ï¼šã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼éš ã™ */
}
.tabs-container::-webkit-scrollbar { display: none; } /* Chrome/Safariç”¨ */

.tab-btn {
    padding: 8px 16px;
    border-radius: 20px;
    background: #eee;
    border: none;
    font-size: 0.9rem;
    font-family: inherit;
    cursor: pointer;
    color: #888;
}

.tab-btn.active {
    background: var(--primary);
    color: white;
    font-weight: bold;
}
    </style>
</head>
<body>












<div class="container">
    
    <section id="daily" class="page active">
        <header><h1 id="today-date">2026.01.02</h1></header>

        <div class="card timer-card">
            <div id="timer">00:00</div>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="startTimer()">é–‹å§‹</button>
                <button class="btn btn-secondary" onclick="stopTimer()">åœæ­¢</button>
            </div>
        </div>

        <div class="card">
            <h3 style="margin-top:0;">â˜€ï¸ ä»Šæ—¥ã®æ—¥èª²</h3>
            <div id="todo-list">
                <label class="list-item">
                    <span>ğŸ“± ãƒãƒ¼ã‚¿ãƒ«ãƒ­ã‚°ã‚¤ãƒ³</span>
                    <input type="checkbox" class="save-state" id="check-portal">
                </label>
                
                <div class="list-item" onclick="changeCount('fossil', 1)">
                    <div style="display:flex; flex-direction:column;">
                        <span>ğŸ¦´ åŒ–çŸ³æ˜ã‚Š</span>
                    </div>
                    <span id="fossil-count" class="count-num">0/5</span>
                </div>

                
                <label class="list-item">
                    <span>âœ‰ï¸ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒœãƒˆãƒ«</span>
                    <input type="checkbox" class="save-state" id="check-message">
                </label>
                <label class="list-item">
                    <span>ğŸ”¨ ä½æ°‘ãƒ¬ã‚·ãƒ”</span>
                    <input type="checkbox" class="save-state" id="check-recipe">
                </label>
                <label class="list-item">
                    <span>ğŸŒ² æœ¨æºã‚‰ã—</span>
                    <input type="checkbox" class="save-state" id="check-tree">
                </label>
                <label class="list-item">
                    <span>ğŸ’§ æ°´ã‚„ã‚Š</span>
                    <input type="checkbox" class="save-state" id="check-rock">
                </label>

                    <label class="list-item">
                        <span>ğŸ›ï¸ è²·ã„ç‰©</span>
                    </label>
    
                    <div class="child-items" style="padding-left: 20px;">
                        <label class="list-item">
                            <span>ãŸã¬ãã¡å•†åº—</span>
                            <input type="checkbox" class="save-state child-check" id="shop-tanuki">
                        </label>
                        <label class="list-item">
                            <span>ã‚¨ã‚¤ãƒ–ãƒ«ã‚·ã‚¹ã‚¿ãƒ¼ã‚º</span>
                            <input type="checkbox" class="save-state child-check" id="shop-able">
                        </label>
                        <label class="list-item">
                            <span>ãƒ‘ãƒ‹ãƒ¼ã®å³¶</span>
                            <input type="checkbox" class="save-state child-check" id="shop-parny">
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="collection" class="page">
    <header><h1>ğŸ“¦ ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³</h1></header>
    
    <div id="series-tabs" class="tabs-container">
        </div>

    <div id="furniture-list-container">
        </div>
    </section>

    <section id="stats" class="page">
        <header><h1>ğŸ“Š ãƒ—ãƒ¬ã‚¤è¨˜éŒ²</h1></header>
        <div class="card">
            <p style="text-align:center; color:#ccc; padding:40px 0;">ã“ã“ã«ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’è¡¨ç¤ºäºˆå®š</p>
        </div>
    </section>

</div>

<nav class="bottom-nav">
    <div class="nav-item active" onclick="showPage('daily', this)">
        <span class="nav-icon">ğŸ“…</span>æ—¥èª²
    </div>
    <div class="nav-item" onclick="showPage('collection', this)">
        <span class="nav-icon">ğŸ›‹ï¸</span>å®¶å…·
    </div>
    <div class="nav-item" onclick="showPage('stats', this)">
        <span class="nav-icon">ğŸ“ˆ</span>è¨˜éŒ²
    </div>
</nav>













<script>


// å¢—ã‚„ã—ãŸã„ã¨ãã¯ã“ã“ã«è¿½åŠ ã™ã‚‹ã ã‘ï¼
const furnitureData = {
    "ãƒãƒ¼ãƒ¡ã‚¤ãƒ‰ã‚·ãƒªãƒ¼ã‚º": ["ãƒã‚§ã‚¢", "ãƒ†ãƒ¼ãƒ–ãƒ«", "ãƒ‰ãƒ¬ãƒƒã‚µãƒ¼", "ã‚·ã‚§ãƒ«ãƒ•", "ã‚¹ã‚¯ãƒªãƒ¼ãƒ³"],
    "ã‚¢ãƒ³ãƒ†ã‚£ãƒ¼ã‚¯ã‚·ãƒªãƒ¼ã‚º": ["æœº", "ã‚¤ã‚¹", "æ™‚è¨ˆ", "é›»è©±"],
    "ã“ãŠã‚Šã‚·ãƒªãƒ¼ã‚º": ["ãƒ†ãƒ¼ãƒ–ãƒ«", "ãƒã‚§ã‚¢", "ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼"]
};

function renderFurniture() {
    const tabContainer = document.getElementById('series-tabs');
    const listContainer = document.getElementById('furniture-list-container');
    
    tabContainer.innerHTML = '';
    listContainer.innerHTML = '';

    // ãƒ‡ãƒ¼ã‚¿ã®æ•°ã ã‘ãƒ«ãƒ¼ãƒ—ã—ã¦ã€Œã‚¿ãƒ–ã€ã¨ã€Œãƒªã‚¹ãƒˆã€ã‚’ä½œã‚‹
    Object.keys(furnitureData).forEach((series, index) => {
        // 1. ã‚¿ãƒ–ãƒœã‚¿ãƒ³ã®ä½œæˆ
        const btn = document.createElement('button');
        btn.className = `tab-btn ${index === 0 ? 'active' : ''}`;
        btn.innerText = series;
        btn.onclick = () => switchSeries(series, btn);
        tabContainer.appendChild(btn);

        // 2. ãƒªã‚¹ãƒˆã‚«ãƒ¼ãƒ‰ã®ä½œæˆï¼ˆæœ€åˆã¯æœ€åˆã®ã‚·ãƒªãƒ¼ã‚ºä»¥å¤–éè¡¨ç¤ºï¼‰
        const card = document.createElement('div');
        card.id = `series-card-${series}`;
        card.className = 'card series-card';
        card.style.display = index === 0 ? 'block' : 'none';
        
        let html = `<h4 style="color:var(--accent); margin-top:0;">${series}ã‚·ãƒªãƒ¼ã‚º</h4>`;
        furnitureData[series].forEach(item => {
            const id = `furn-${series}-${item}`;
            html += `
                <label class="list-item">
                    <span>${item}</span>
                    <input type="checkbox" class="save-state" id="${id}">
                </label>`;
        });
        card.innerHTML = html;
        listContainer.appendChild(card);
    });
}

// ã‚¿ãƒ–ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹é–¢æ•°
function switchSeries(series, btn) {
    // å…¨ã‚«ãƒ¼ãƒ‰ã‚’éš ã™
    document.querySelectorAll('.series-card').forEach(c => c.style.display = 'none');
    // é¸ã‚“ã ã‚«ãƒ¼ãƒ‰ã ã‘å‡ºã™
    document.getElementById(`series-card-${series}`).style.display = 'block';
    
    // å…¨ãƒœã‚¿ãƒ³ã®activeã‚’å¤–ã™
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    // æŠ¼ã—ãŸãƒœã‚¿ãƒ³ã«activeã‚’ã¤ã‘ã‚‹
    btn.classList.add('active');
}






// --- ãƒšãƒ¼ã‚¸åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½ï¼ˆã‚ˆã‚Šç¢ºå®Ÿã«å‹•ãç‰ˆï¼‰ ---
    function showPage(pageId, element) {
        // å…¨ãƒšãƒ¼ã‚¸ã‚’éè¡¨ç¤ºã«ã™ã‚‹
        const pages = document.querySelectorAll('.page');
        pages.forEach(p => p.classList.remove('active'));
        
        // æŒ‡å®šã—ãŸãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹
        const targetPage = document.getElementById(pageId);
        if (targetPage) {
            targetPage.classList.add('active');
        }

        // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®è¦‹ãŸç›®ã‚’æ›´æ–°
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(n => n.classList.remove('active'));
        if (element) {
            element.classList.add('active');
        }
    }

    // --- ã‚«ã‚¦ãƒ³ãƒˆã‚¢ãƒƒãƒ—æ©Ÿèƒ½ ---
    let counts = { fossil: 0 };
    function changeCount(id, delta) {
        counts[id] = (counts[id] + delta) % 6;
        const display = document.getElementById(`${id}-count`);
        if (display) {
            display.innerText = `${counts[id]}/5`;
            if (counts[id] === 5) display.classList.add('count-finished');
            else display.classList.remove('count-finished');
        }
        saveStates();
    }

    // --- ã‚¹ãƒˆãƒƒãƒ—ã‚¦ã‚©ãƒƒãƒæ©Ÿèƒ½ï¼ˆå®‰å®šç‰ˆï¼‰ ---
    let startTime, timerInterval, elapsedTime = 0;
    
    function startTimer() {
        if (timerInterval) return;
        startTime = Date.now() - elapsedTime;
        timerInterval = setInterval(() => {
            elapsedTime = Date.now() - startTime;
            const totalSeconds = Math.floor(elapsedTime / 1000);
            const m = Math.floor(totalSeconds / 60).toString().padStart(2, '0');
            const s = (totalSeconds % 60).toString().padStart(2, '0');
            const timerDisplay = document.getElementById('timer');
            if (timerDisplay) {
                timerDisplay.innerText = `${m}:${s}`;
            }
        }, 100);
    }

    function stopTimer() {
        clearInterval(timerInterval);
        timerInterval = null;
    }

    // --- ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜ã¨èª­ã¿è¾¼ã¿ ---
    function saveStates() {
        const states = {
            checks: {},
            counts: counts
        };
        document.querySelectorAll('.save-state').forEach(el => {
            states.checks[el.id] = el.checked;
        });
        localStorage.setItem('acnh_app_data', JSON.stringify(states));

        
    }

    document.addEventListener('change', (e) => {
        if (e.target.classList.contains('save-state')) saveStates();
    });

    window.onload = () => {
        const savedRaw = localStorage.getItem('acnh_app_data');
        const saved = savedRaw ? JSON.parse(savedRaw) : {};
        
        if (saved.checks) {
            Object.keys(saved.checks).forEach(id => {
                const el = document.getElementById(id);
                if (el) el.checked = saved.checks[id];
            });
        }
        
        if (saved.counts) {
            counts = saved.counts;
            Object.keys(counts).forEach(id => {
                const display = document.getElementById(`${id}-count`);
                if (display) {
                    display.innerText = `${counts[id]}/5`;
                    if (counts[id] === 5) display.classList.add('count-finished');
                }
            });
        }

        const now = new Date();
        const dateEl = document.getElementById('today-date');
        if (dateEl) {
            dateEl.innerText = `${now.getFullYear()}.${now.getMonth()+1}.${now.getDate()}`;
        }

        renderFurniture();
       
    };
</script>